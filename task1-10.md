# БЛОК 1, ЗАДАНИЯ 1-10

## 1.1 Детализация и чёткое прописывание бизнес-целей

Перед нами стоит задача реализовать сложный с технической точки зрения, но лаконичный и понятный для клиента приложение в виде спортивного хаба, которое будет содержать в себе фитнес-трекер с набором тренировок, спортиную социальную сеть с возможностью делиться своими достижениями, ачивками и тренировками с другими спортсменами, а так же возможностью продавать наши локальный бренд и авторские тренировки

Исходя из требований, бизес-цели видятся следующим образом: 

1. Первая и основная цель - получение и приумножение прибыли. Нам необходимо достичь целевого уровня прибыли (15%) от общего заработка бизнеса
2. Увеличение доли рынка за счет повышения узнаваемости бренда и экосистемы (привлечние большего колв-ва ползователей и повышение узнаваемости продукта). Удержание пользователей, расширение географической зоны и захват новых сегментов рынка. Клиент будлет считать лояльным и удерживаемым, которые после скачивания и регистрации приложения пользуется продуктом тренировок 1-2 раза в неделю, а так же совершает покупку любого продукта раз в 3 месяца
3. Внедрение нового функционала, который позволит сторонним компаниям интегрироваться с нашим решением (1 киллер-фича в квартал), что так же позволит нам удерживать лидирующие позиции в рынке
   
## 1.2 Анализ и список функциональных требований.
Функциональные требования - это требования, которым должна отвечать наша система чтобы потенциальный пользователь нашего продукта (не только клиент, но и стейкхолдеры, а так же команда продукта) смог удовлетворять свои потребности.
В рамках разрабатываемой системы выделены следующие группы пользователей: клиент, клиентская служба (поддержка), администраторы, владельцы бизнеса. Ниже в таблице расписаны требования пользователей системы, вытекающие из них функциональные требования, ограничения, которые могут возникать при их реализации, и зависимости от других систем.

| Требования пользователей    | Функциональные требования   | Возможные ограничения   | Зависимости от других систем   | 
| ------------ | ------------ | ------------ | ------------ | 
| Требования клиента: 1)регистрация и авторизация в личном кабинете, заполнение профиля. 2) запись и отслеживание тренировочной активности, возможность делиться тренировочной активностью и подписываться на других пользователей, участвовать в соревнованиях. 3) возможность оперативно связаться со службой поддержки, 4) делать покупки внутри приложения. 5) получать уведомления, 6) доступность приложения в отдаленных регионах по всему миру| 1) Личный кабинет пользователя с управлением через графический интерфейс и возможностями регистрации, авторизации, хранения логинов и паролей пользователей в зашифрованном виде, заполнением профиля. 2) Сбор, хранение, аналитика и визуализация тренировочной активности пользователя. Хранение информации о друзьях пользователя и передачу сообщений от пользователя к пользователю. Система достижений и соревнований. Подключение смарт-устройств пользователя через их API, синхронизация. 3) Канал связи с технической поддержкой, например, через чат внутри приложения. 4) Каталог товаров внутри приложения, просмотр товаров, карточек товаров, выбор товара, его количества, оформление заказа, редактирование заказ, выбор даты, времени, адреса доставки, выбор способа оплаты. Просмотр заказа, отслеживание статуса заказа. Реализация реферальной программы с бонусами и персонализированными предложениями. 5) система разнообразных настраиваемых уведомлений: пуши, смс, почта. 6) доступность приложения по всему миру через адаптацию к разным языкам, регионам, культурным особенностям (перевод и отображение элементов интерфейса, адаптация форматов дат и времени, единиц измерения и т.д.) | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Оплаты картами, Mir Pay, Apple Pay, Google Pay. Соблюдение платежного стандарта безопасности PCIDSS. Условия доставки, возврата товара. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка). Платежные сервисы. Курьерская служба. | 
| Требования клиентской службы: возможность связаться с любой из служб по запросу клиента, оформление* (на случай, если клиент не может самостоятельно оформить заказ), отслеживание статуса, редактирование заказа| Управление пользовательскими данными, просмотр товаров, карточек товаров, выбор товара, его количества, оформить заказ: выбрать дату, время, адрес доставки, отредактировать заказ, дату, время, адрес доставки, связь с другими службами | Политика конфиденциальности и права пользователей. Договор публичной оферты, Закон о защите прав потребителей, Условия доставки, Возврата товара| Администратор, склад, курьерская служба, клиенты|
| Требования администратора: создание пользователя, управление ролями, управление заказом| Управление пользовательскими данными, создание пользователей, управление ролями и правами, управление заказом, просмотр товаров, карточек товаров. | Политика конфиденциальности и права пользователей. | Клиентская служба (поддержка), клиенты|
| Требования владельцев бизнеса: быстрая безошибочная работа сайта, доступ к статистике заказов, метрикам| Реализовать интеграцию с инструментарием метрик. Выгрузка и анализ метрик (число скачиваний, активные пользователи, длительность сеанса, количество сбоев, время загрузки).Пользовательские события: тренировки, друзья, соревнования, достижения, покупки, просмотр рекламы.| Политика конфиденциальности и права пользователей. Физические и финансовые ограничения| Администратор, Клиент, система метрик|

Обычный сценарий взаимодействия выглядит так: авторизованный пользователь регулярно посещает платформу, наблюдает за тренировочными занятиями своих друзей, знакомых или соседей, комментирует их достижения, фиксирует собственные активности, получает персонализированные рекомендации и делает периодические приобретения товаров или услуг

## 1.3 Анализ стейкхолдеров и их интересов.

Анализ стейкхолдеров = выявление всех заинтересованных сторон, их интересов, ожиданий и потенциального влияния на проект. 
Внутренние стейкхолдеры: владельцы бизнеса, команда продукта (разработчики, маркетологи, вспомогательный персонал типа бухгалтерии, копирайтеров), 
Внешние стейкхолдеры: пользователи, государственные органы, конкуренты, СМИ.

| Основные стейкхолдеры  | Их интересы  | Ожидания   | 
| ------------ | ------------ | ------------ |
| Владельцы бизнеса| Рост прибыли компании, окупаемость инвестиций, развитие и масштабирование проекта. | Сбор и анализ метрик проекта, отчетность в срок, эффективное управление проектом, своевременные обновления приложения.| 
| Команда разработчиков продукта| Разработка качественного и функционального приложения, соблюдение сроков, оптимизация кода, обеспечение безопасности данных пользователей. | Четкие требования к функционалу, доступ к ресурсам для разработки, возможность гибкой адаптации к требованиям пользователей.|
| Команда маркетологов| Привлечение новых пользователей, повышение лояльности пользователей, повышение узнаваемости продукта. | Эффективные маркетинговые стратегии, привлечение целевой аудитории, анализ эффективности рекламных кампаний.|
| Пользователи| Качественные тренировки, удобный интерфейс, разнообразие программ, доступные цены, возможность отслеживания прогресса, мотивация и поддержка сообщества. | Персональные планы тренировок, доступ к экспертным рекомендациям, возможность совместной тренировки с друзьями, интеграция с другими фитнес-приложениями, продуктами нашего бизнеса для приобретения товаров и услуг.|
| Государственные органы| Cбор налогов, кибербезопасность, защита данных пользователей в цифровом пространстве | Соблюдение действующего законодательства, в частности, в отношении защиты персональных данных, авторских прав, борьбы с незаконной деятельностью|
| Конкуренты| Общий рост рынка, появление новых функций, сохранение и рост клиентской базы | Здоровая конкуренция, анализ развития конкурирующего проекта и коррекция собственной стратегии|
| СМИ| Возможность получения новостей, информации о новом функционале, в конечном итоге, привлечение аудитории к своим ресурсам | Своевременный доступ к информации о приложении, новостях и обновлениях функциональности|

Распределение стейкхолдеров по степени вовлеченности и влияния

![Распределение стейкхолдеров по степени вовлеченности и влияния](https://github.com/butorovnv/Software-Architecture-Diploma/blob/main/images/stakeholder_pic.png)

## 1.4
## 1.5 Описание рисков реализации (бизнес и технические).

========

У каждого архитектурного решения, а так же бизнеса есть свои плюсы и минусы, любое из решений - всегда компромисс

Бизнес-риски:


1. Риски безопасности и конфиденциальности
Утечка персональных данных: Потеря доверия пользователей вследствие взлома базы данных или утечки конфиденциальной информации (персональная информация, данные банковских карт).
Нарушение законов о защите данных: Несоответствие требованиям законодательства РФ («О персональных данных», GDPR), штрафы от регуляторов и судебные иски.
2. Технические риски
Низкая производительность системы: Недостаточная масштабируемость инфраструктуры может привести к сбоям во время пиковых нагрузок (например, массовые регистрации новых пользователей).
Проблемы интеграции функционала: Сложности в реализации качественного взаимодействия между модулями (фитнес-функционал, социальная сеть, магазин). Это увеличивает вероятность технических ошибок и ухудшения пользовательского опыта.
Отсутствие резервирования данных: Если инфраструктура настроена неправильно, возможна потеря важных данных клиентов, заказов, истории тренировок.


3. Юридические риски
Авторские права и патенты: Нарушения прав интеллектуальной собственности третьих лиц (логотипы, названия брендов, фото, контент магазинов и соцсетей).
Правовые претензии пользователей: Неправомерное использование личных фотографий или материалов пользователями, конфликты вокруг публикации недостоверной информации.
Регуляторные изменения: Изменение российского законодательства в сфере электронной коммерции, социальных сетей или защиты здоровья населения может негативно повлиять на деятельность проекта.


4. Финансовые риски
Высокая стоимость разработки и поддержки: Проект требует значительных инвестиций в разработку сложного многофункционального продукта и регулярное обновление ПО, что повышает затраты бизнеса.
Недостаточно развитые каналы продаж: Отсутствие эффективных каналов привлечения покупателей в магазине может замедлить рост выручки.
Возврат товаров и гарантийные обязательства: Высокий уровень возвратов продукции может снизить прибыльность проекта.


5. Маркетинговые и репутационные риски
Непопулярность среди целевой аудитории: Приложение может оказаться невостребованным, если оно не удовлетворяет ожидания пользователей относительно удобства, функциональности и качества сервиса.
Конкуренция: Другие крупные игроки рынка (Fitbit, Garmin, MyFitnessPal, Strava) предлагают аналогичные сервисы, снижая шансы завоевать большую долю рынка.
Потеря лояльности пользователей: Негативные отзывы и низкая оценка могут распространяться быстро благодаря социальным сетям, создавая долгосрочные проблемы с привлечением новых пользователей.


6. Коммуникационные риски
Недостаточное взаимодействие с клиентами: Плохое обслуживание пользователей, отсутствие оперативного реагирования на жалобы и запросы пользователей могут существенно снизить лояльность аудитории.
Несоблюдение стандартов качества обслуживания: Ошибки в коммуникации, игнорирование жалоб и отзывов приводят к снижению уровня удовлетворенности пользователей сервисом.
На рынке уже существуют подобные фитнес трекеры, которые имеют большую пользовательскую базу и отточенные бизнес механизмы. Мы можем не выйграть в конкурентной борьбе. 
Шансы на успех понижает встраиваемаяя нами реклама наших товаров, никому не нравится реклама, даже самая деликатная и ненавязчивая. Более того на рынке совершенно точно будет аудитория которой не нравится наш товар, это оттолкнет их к скачиванию нашего приложения, что скажется на общем колличестве аудитории.
Предыдущий риск влечет за собой следующий: публичные фитнес трекеры, где пользователи могут записывать свои тренировки и потом делиться ими - основаны на низменных человеческих желаниях выделиться и самоутвердиться. Это все становится бессмысленным если в приложении нет аудитории и самоутверждаться не перед кем.
Смело можно утрвеждать что будет аудитория которая все же будет пользоваться нашим приложением, но не будет приносить никакого profit. Такие люди будут потреблять мощности нашего backend сервиса и наших баз, но не покупать товары. Если процент такой аудитории будет слишком велик, то окупаемость проекта останется под вопросом.



Микросервисная архитектура не самая простая в построении. Потребуются квалифицированные программисты.
Персонала обслуживающего систему (админы, копирайтеры) может не хватить при резком росте трафика в приложении.
Риски которая влечет за собой микросервисная архитектура:

Deployment. В микросервисной архитектуре слаженный деплой множества отдельных приложений не является тревиальной задачей.
Tracing. Разбираться почему что-то сдало сбой в сложной микросервисной архитектуре можно очень долго и сложно. Требуется введение дополнительных систем для трейсинга и обнаружения проблем.
Integrations. Самое слабое звено микросервисных архитектур. На интеграциях ломаются все системы подобного рода, проблемы подобного рода неизбежны.
Dependency. Как сильная так и слабая сторона микросервисной архитектуры. Если меняются интерфейсы или меняется структуры базы данных в одной системе - это влечет за собой по цепочке изменение всех остальных сервисов которые завязаны на изменяемом. Также головная боль с поддерживаем версионированных интерфейсов, инога legacy системы не подвержены изменениям от слова совсем, в таком случае для них придется поддерживать legacy API точки.
Network. Риск сетевых проблем будет всегда, даже если все наши микросервисы находятся в одной облачной сети или сети компании, то есть ненулевой шанс что в процессе передачи данных что-то пойдет не так. Сеть неоднородна и в ней множество точек отказа, которыми нельзя не принебрегать.
Риски которые влечет за собой архитектура, базирующаяся на облачных решениях.

Vendor lock. Так как мы размещаемся в облаке со стратегией Cloud Native, то переезд с одного облака на другое может быть крайне затруднительным. Также крайне трудно будет переехать и на свои мощности (on premises). Система попадает в зависимость от провайдера, если провайдер резко поменяет цены в свою пользу - нас ждет беда.
Ввиду того что большинство зрелых облачных провайдеров находятся в США (GCP, AWS) есть существенный риск их блокировки или замедления на территории РФ уже в ближайшем времени.
Прочие риски:

Риски исходящие от владельцев бизнеса/инвенсторов.
Стоимостные риски. Есть риск вывалиться из бюджета.
Риск того что команда разработчиков будет несостоятельная.
Риск уязвимости конечного продукта к внедрениям и злонамеренным употреблениям.
Риск неверно выбранных технологий и решений.
Экономические риски. Как российские так и общемировые. Сюда входят риски кризисов при которых покупательская способность нашей аудитории может резко сократиться.
Валютные риски. Риск того что мы все же российская IT компания, которая получает выручку в рублях а платит провайдеру в валюте.
Общие риски ведения бизнеса на территории РФ, правовая незащищенность, отсутствие судебной системы.
========
========

## 1.10 Анализ и описание архитектурных опций и обоснование выбора.
В таблице приведены оценки с описанием

|     | Монолит    | Service-Oriented    | Service-Based     | Space-Based     | Event-Driven    | Microservices   |
| ------------ | ------------ | ------------ | ------------ | ------------ | ------------ | ------------ |
| Agility / Гибкость| 2 (перестроить на новый бизнес-процесс или новый стек - проблематично, придется перепроектировать все приложение)| 3,5 (сервисы условно независимы, но имеют связанность из-за общих ресурсов и централизованной коммуникации)| 4 (сервисы хорошо разделены, но они довольно массивные)| 4,5 (за счет распределения данных и параллельной обработки проще приспособление к новым задачам или дополнительным требованиям)| 5 (наличие управления событиями через брокер, медиатор| 5 (можно выбрать стек под каждый микросервис)|
| Cost / Стоимость | 2 (единый стек технологий - дороже доработка)| 4 (адаптация инфраструктуры к меняющимся потребностям без дорогостоящих модификаций или повторной разработки| 4 (адаптация инфраструктуры к меняющимся потребностям без дорогостоящих модификаций или повторной разработки)| 3 (расходы на инфраструктуру, связанные с управлением и обслуживанием нескольких узлов + на интеграции)| 3 (высокая модульность и расширяемость снижает затраты, но необходимость в брокерах сообщений и управлении распределёнными компонентами увеличивает расходы на инфраструктуру)| 2 (у каждого нового микросервиса своя стоимость разработки, тестов, инфраструктуры и т.д. чем больше микросервисов, тем выше стоимость)|
| Deployability / Развертываемость | 4 (единый автономный модуль, но очень громоздкий)| 2 (Обычно подразумевает развертывание всего приложения как единого блока, невозможнос развернуть по одному из-за единой ESB)| 4 (каждый сервис можно развернуть отдельно, можно разбить API и базы данных на несколько развертываемых единиц)| 5 (Легкое развертывание модулей, т.к они могут быть упакованы в независимые и самостоятельные блоки, что позволяет выполнять обновление и развертывание без влияния на всю систему. ( blue-green deployment))| 5 (позволяет разделить компоненты, что упрощает развертывание и обновление отдельных компонентов без влияния на всю систему) |5 (микросервисы представляют собой отдельные модули, поэтому их можно разворачивать независимо)|
| Integration / Интеграция| 4 (особенно, если этот монолит - producer с существующим контрактом) Рассматриваем внешние интеграции| 3 (интеграция черед центр интеграции в ESB с определнным контрактом )| 5 (интеграция возможна через слой API, в котором доступны все необходимые элементы единого контракта и взаиможейсвтия сервисов)| 4 (опора этой архитектуры - передача сообщений или управляемая эвентами коммуникация между компонентами, что упрощает создание и интеграцию новых функций)| 3 (сложное управление (создание и поддержка) контрактов сервисов, т.к необходимо много зависимостей для мидиатора, брокеров сообщений) |4 (можно сделать отдельный контракт для каждого из сервсов, использовать разные стеки, что удобно, но поддерживать и разрабатывать сложнее)|
| Performance / Производительность| 3 (с одной стороны - загружен всегда один сервер процессом, но если возрастен нагрузка на один сервер - все посыпется| 2 (т.к необходимо пропускать все через единую ESB, у которой канал с определнной пропускной способностью)| 4 (возможность компоновки сервисов и работа с хранилищем данных через схемы или отдельные БД, продвинутой балансировкой, но есть потенциальная задержка в коммуникации между сервисами)| 5 (параллельная обработка и кэширование в памяти для чтения данных, SBA позволяет использовать процессинговые единицы— отдельных модулей, способных работать параллельно) | 5 (асинхронное взаимодействие, параллельная обработка, легко наращивать производительность при обработке сообщений) | 4 (сложнее поддерживать их взаимодействие и согласованность данных, но при этом нагрузка распределена на каждом из сервисов либо архтектурно, либо балансировщиком)|
| Scalability / Масштабируемость| 1 (система масштабируется как единое целое, горизонтальное масшитабирование почти нереально, нерационально расходуются ресурсы)| 3 (масштабируется горизонтально, но масштабирование может быть затруднено из-за централизованной коммуникации) | 3 (масштабируется горизонтально, масштабирование может быть затруднено в случае централизованной БД)| 5 (нет зависимости от одной БД, возможно добавлять узлы по мере увеличения нагрузки, Масштабирование в SBA осуществляется за счет добавления новых процессинговых единиц, но дополнительные требования к грануляции данных) | 5 (высокая масштабируемость за счет горизонтального масштабирования путем программного добавления обработчиков событий) | 5 (когда микросервис достигает предельной нагрузки, можно развернуть новые экземпляры автоматически. Микросервисы можно масштабировать независимо друг от друга)|
| Testability / Тестируемость| 5 (единый стек)| 3 (усложненное тестирование, тк общее хранилище с другими модулями и зависимость от них)| 4 (есть возможность тестирования отдельных модулей без зависимостей от общего хранилища)| 2 (усложнено необходимостью обеспечить корректное взаимодействие и согласованность данных между узлами) | 4 (отдельные компоненты легко тестировать, но взаимодействия между ними (например, потоками событий) сложны из-за асинхронности и недетерминированности в потоках событий) |3 (у каждого микросервиса свой набор журналов, что усложняет отладку. С другой стороны, в отдельных сервисах легче находить и исправлять баги)|











