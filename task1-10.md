# БЛОК 1, ЗАДАНИЯ 1-10

## 1.1 Детализация и чёткое прописывание бизнес-целей

Перед нами стоит задача реализовать сложное с технической точки зрения, но лаконичное и понятное для клиента приложение в виде спортивного хаба, которое будет содержать в себе фитнес-трекер с набором тренировок, спортиную социальную сеть с возможностью делиться своими достижениями и тренировками с другими пользователями, участвовать в соревнованиях, а так же с возможностью продавать наш локальный бренд и авторские тренировки.

Исходя из требований, бизес-цели видятся следующим образом: 

1. Первая и основная цель - получение и преумножение прибыли. Нам необходимо достичь целевого уровня прибыли (например, 15% от общего заработка бизнеса в течение года после релиза).
2. Увеличение доли рынка за счет повышения узнаваемости бренда и экосистемы (привлечние большего количества ползователей и повышение узнаваемости продукта). Удержание пользователей, расширение географической зоны и захват новых сегментов рынка. Клиент будлет считаться лояльным и удерживаемым, если после скачивания и регистрации приложения он пользуется продуктом для тренировок 1-2 раза в неделю, а так же совершает покупку любого продукта раз в 3 месяца.
3. Внедрение нового функционала, который позволит сторонним компаниям интегрироваться с нашим решением (1 киллер-фича в квартал), что так же позволит нам удерживать лидирующие позиции в рынке.

Так же, имеет смысл рассмотреть операционные и стратегические цели нашего бизнеса: мы хотим закрепиться на лидирующиз позициях в отрасли, а один из способов - войти в топ чарты магаинов приложений для каждой из мобильной платформы, например: Топ 5 AppStore, Play Merket, RuStore, AppGallery. Завоеванные награды нишевых изданий так же пспособствует нашему имибжу и развитию продукта. 
Улучшение клиентского опыта, высока оценка в маркетых не ниже 4 баллов - также одна из наших целей, которая скажется на развитии бизнеса


   
## 1.2 Анализ и список функциональных требований.
**Функциональные требования** - это требования, которым должна отвечать наша система чтобы потенциальный пользователь нашего продукта (не только клиент, но и стейкхолдеры, а так же команда продукта) смог удовлетворять свои потребности.
В рамках разрабатываемой системы выделены следующие группы пользователей: клиент, клиентская служба (поддержка), администраторы, владельцы бизнеса. Ниже в таблице расписаны требования пользователей системы, вытекающие из них функциональные требования, ограничения, которые могут возникать при их реализации, и зависимости от других систем.

| **Требования пользователей**    | **Функциональные требования**   | **Возможные ограничения**   | **Зависимости от других систем**   | 
| ------------ | ------------ | ------------ | ------------ | 
|| **Требования клиента** | | | ||
| Регистрация и авторизация в личном кабинете, заполнение профиля | Личный кабинет пользователя с управлением через графический интерфейс и возможностями регистрации, авторизации, хранения логинов и паролей пользователей в зашифрованном виде, заполнением профиля, включая свои вды спорта, размер одежды и обуви, наличие спорт. инвентаря | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Оплаты картами, Mir Pay, Apple Pay, Google Pay. Соблюдение платежного стандарта безопасности PCIDSS. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка). Платежные сервисы. | 
| Запись и отслеживание тренировочной активности, возможность делиться тренировочной активностью и подписываться на других пользователей, участвовать в соревнованиях| Сбор, хранение, аналитика и визуализация тренировочной активности пользователя. Хранение информации о друзьях пользователя и передачу сообщений от пользователя к пользователю. Система достижений и соревнований. Формирование и подсказки по составлению тренировок и их расписания. Подключение смарт-устройств пользователя через их API, синхронизация | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка) | 
| Возможность оперативно связаться со службой поддержки | Канал связи с технической поддержкой, например, через чат внутри приложения | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка) |
| Делать покупки внутри приложения | Каталог товаров внутри приложения, просмотр товаров, карточек товаров, выбор товара, его количества, оформление заказа, редактирование заказа, выбор даты, времени, адреса доставки, выбор способа оплаты. Просмотр заказа, отслеживание статуса заказа. Реализация реферальной программы с бонусами и персонализированными предложениями | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Оплаты картами, Mir Pay, Apple Pay, Google Pay. Соблюдение платежного стандарта безопасности PCIDSS. Условия доставки, возврата товара. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка). Платежные сервисы. Курьерская служба. | 
| Получать уведомления | Система разнообразных настраиваемых уведомлений: пуши, смс, почта. Внедрение промоакций и новостей спорта в зависимости от типа тренировок пользователя, включая региональные промоакции | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка). Платежные сервисы. Сервис уведомлений. Курьерская служба. | 
| Доступность приложения в отдаленных регионах по всему миру | Доступность приложения по всему миру через адаптацию к разным языкам, регионам, культурным особенностям (перевод и отображение элементов интерфейса, адаптация форматов дат и времени, единиц измерения и т.д.) | Закон о персональных данных, Договор публичной оферты, Закон о защите прав потребителей. Условия доставки, возврата товара. Физические ограничения: производительность пользовательского мобильного устройства, скорость интернет-соединения| Клиентская служба (поддержка). Курьерская служба. | 
|| **Требования клиентской службы** | | | ||
| Возможность связаться с любой из служб по запросу клиента, оформление* (на случай, если клиент не может самостоятельно оформить заказ), отслеживание статуса, редактирование заказа| Управление пользовательскими данными, просмотр товаров, карточек товаров, выбор товара, его количества, оформить заказ: выбрать дату, время, адрес доставки, отредактировать заказ, дату, время, адрес доставки, связь с другими службами | Политика конфиденциальности и права пользователей. Договор публичной оферты, Закон о защите прав потребителей, Условия доставки, Возврата товара| Администратор, склад, курьерская служба, клиенты|
|| **Требования администратора** | | | ||
| Создание пользователя, управление ролями, управление заказом| Управление пользовательскими данными, создание пользователей, управление ролями и правами, управление заказом, просмотр товаров, карточек товаров. | Политика конфиденциальности и права пользователей. | Клиентская служба (поддержка), клиенты|
|| **Требования владельцев бизнеса** | | |  ||
| Быстрая безошибочная работа сайта, доступ к статистике заказов, метрикам| Реализовать интеграцию с инструментарием метрик. Выгрузка и анализ метрик (число скачиваний, активные пользователи, длительность сеанса, количество сбоев, время загрузки).Пользовательские события: тренировки, друзья, соревнования, достижения, покупки, просмотр рекламы.| Политика конфиденциальности и права пользователей. Физические и финансовые ограничения| Администратор, Клиент, система метрик|

Обычный сценарий взаимодействия выглядит так: авторизованный пользователь регулярно посещает платформу, наблюдает за тренировочными занятиями своих друзей, знакомых или соседей, комментирует их достижения, фиксирует собственные активности, получает персонализированные рекомендации и делает периодические приобретения товаров или услуг

## 1.3 Анализ стейкхолдеров и их интересов.

Анализ стейкхолдеров = выявление всех заинтересованных сторон, их интересов, ожиданий и потенциального влияния на проект. 
Внутренние стейкхолдеры: владельцы бизнеса, команда продукта (разработчики, маркетологи, вспомогательный персонал типа бухгалтерии, копирайтеров), 
Внешние стейкхолдеры: пользователи, государственные органы, конкуренты, СМИ.

| Основные стейкхолдеры  | Их интересы  | Ожидания   | 
| ------------ | ------------ | ------------ |
| Владельцы бизнеса| Рост прибыли компании, окупаемость инвестиций, развитие и масштабирование проекта. | Сбор и анализ метрик проекта, отчетность в срок, эффективное управление проектом, своевременные обновления приложения.| 
| Команда разработчиков продукта| Разработка качественного и функционального приложения, соблюдение сроков, оптимизация кода, обеспечение безопасности данных пользователей. | Четкие требования к функционалу, доступ к ресурсам для разработки, возможность гибкой адаптации к требованиям пользователей.|
| Команда маркетологов| Привлечение новых пользователей, повышение лояльности пользователей, повышение узнаваемости продукта. | Эффективные маркетинговые стратегии, привлечение целевой аудитории, анализ эффективности рекламных кампаний.|
| Пользователи| Качественные тренировки, удобный интерфейс, разнообразие программ, доступные цены, возможность отслеживания прогресса, мотивация и поддержка сообщества. | Персональные планы тренировок, доступ к экспертным рекомендациям, возможность совместной тренировки с друзьями, интеграция с другими фитнес-приложениями, продуктами нашего бизнеса для приобретения товаров и услуг.|
| Государственные органы| Cбор налогов, кибербезопасность, защита данных пользователей в цифровом пространстве | Соблюдение действующего законодательства, в частности, в отношении защиты персональных данных, авторских прав, борьбы с незаконной деятельностью|
| Конкуренты| Общий рост рынка, появление новых функций, сохранение и рост клиентской базы | Здоровая конкуренция, анализ развития конкурирующего проекта и коррекция собственной стратегии|
| СМИ| Возможность получения новостей, информации о новом функционале, в конечном итоге, привлечение аудитории к своим ресурсам | Своевременный доступ к информации о приложении, новостях и обновлениях функциональности|
| Международные федерации спорта, спортивные ассоциации| Поддержка развития спорта| Поддержка массового спорта, предоставляя пользователям рекомендации по тренировкам, и мотивацию для регулярных занятий спортом|
| Спортивные бренды| Коллаборации с лидером индустрии фитнес-приложенийм | Развитие канала продаж и узнаваемости за счет интеграции с лидером рынка|

Распределение стейкхолдеров по степени вовлеченности и влияния

![Распределение стейкхолдеров по степени вовлеченности и влияния](https://github.com/butorovnv/Software-Architecture-Diploma/blob/main/images/stakeholder_pic_2.png)

## 1.4 Разработка концептуальной архитектуры.
Концепт архитектуры нашего приложения будет выглядеть следующим образом:

![DDD_schema](https://github.com/butorovnv/Software-Architecture-Diploma/blob/main/images/DDD_schema.png)

Все пользователи, которые будут обращаться к нашему приложению, будут использовать REST интерфейс (HTTP**S**)

Основная и единственная точка входа пользователей с фронта - Api Gateway, который будет маршрутизировать запросы на следующие домены (при условии, что у нас еще будут для AGW балансировщики, то разумнее всего испольтзовать round-robin), а так же будет выполняться аутентификация/авторизация полтьзователей. Его можно назвать техническим, а не с точки зрения бизнеса Core-domain.

- **Домен Training**. Цель и задача данного домена как приложения - записыать и отслеживать тренировки пользователей. Приложение записывает данные процесса тренировки в реляционную БД,после чего - проводит анализ занятие из той же БД, чтобы вывести пользователю итог тренировки со статистикой. Выгрузка будет осуществляться только в конце тренировки одним большим (или несколькими крупными) партицию. До момента выгрузки клиентское устройство само складирует координаты, время и прочуюю информацию локально, как вариант - во временную таблицу. Расчет динамических значений происходит также локально
  
- **Домен User**. Цель и задача данного домена как приложения - хранить профиль пользователя, личную и пользовательскую информацию, платежные данные, и все то, что персонализировано под конкретного клиента
  
- **Домен Shop**. Цель и задача данного домена как приложения - поддерживает все основные для интернет - магазина модули: заказ товара или покупка тренировки, интеграция с платежным шлюзом, привязка платежного средства с поддержкой протокола PCIDSS, отправка чека. Т.к у нас в бизнесе уже реализован функционал магазина - нам необходимо натсроить интеграцию с самим интернет-магазином и платежным шлюзом с привязкой карты
  
- **Домен Social**. Цель и задача данного домена как приложения - генерировать и отображать пользователю его контент и позволять пользоватьс ясоциальными возможностями. Данное приложение на выходе будет выдавать готовый контент для отображения в ленте с вертикальным скролом. В контент будут входить: тренировки самого пользователя (карта с отмеченным пройденным маршрутом) и ключевые показатели, тренировки других пользователей, на которые подписан пользовтель, различные статьи, а также рекомендации к тренировкам на основе анализа его тренировок. Этот домен как приложение способно стать уникальной особенностью нашей платформы, выделяя её среди аналогичных продуктов на рынке. Кроме того, наша новостная лента и весь контен будет динамически настраиваться под предпочтения конкретного человека, учитывая его поведение (оценки, комментарии, подписки и проч.). Таким образом, в перспективе мы будем показывать пользователям исключительно тот контент, который с высокой долей вероятности вызовет положительный отклик и мы сможем удерживать клиента и максимально погружать его в нашу экосистему. А лояльные клиенты с высокой долей вероятности будут покупать тренировки и/или сопутствующий товар
  
- **Домен Message**. Цель и задача данного домена как приложения - уведомлять пользователей через каналы: e-mail, sms, push. По своей сути должно быть асинхронным, ввиду долгих блокирующих операций. Также Messgar будет отвечать за коммуникацию внутри приложения между пользователями


## 1.5 Описание рисков реализации (бизнес и технические).

У каждого архитектурного решения, а так же бизнеса есть свои плюсы и минусы, любое из решений - всегда компромисс

Бизнес-риски:

1. Риски безопасности и конфиденциальности.
Утечка персональных данных (потеря доверия пользователей вследствие взлома базы данных или утечки конфиденциальной информации (персональная информация, данные банковских карт).
Нарушение законов о защите данных (несоответствие требованиям законодательства РФ («О персональных данных», GDPR), штрафы от регуляторов и судебные иски.)
2. Юридические риски.
Регуляторные изменения (изменение российского законодательства в сфере электронной коммерции, социальных сетей или защиты здоровья населения может негативно повлиять на деятельность проекта). Так же не стоит исключать различные санкции, которые могут так или иначе влиять на доступность и присутствие нашего бизнеса в том или ином регионе
3. Финансовые риски. Высокая стоимость разработки и поддержки (проект требует значительных инвестиций в разработку сложного многофункционального продукта и регулярное обновление ПО, что повышает затраты бизнеса).
Недостаточно развитые каналы продаж. Отсутствие эффективных каналов привлечения покупателей в магазине может замедлить рост выручки. 
Возврат товаров и гарантийные обязательства (высокий уровень возвратов продукции может снизить прибыльность проекта).
4. Маркетинговые и репутационные риски. Непопулярность среди целевой аудитории (приложение может оказаться невостребованным, если оно не удовлетворяет ожидания пользователей относительно удобства, функциональности и качества сервиса).
Конкуренция (Другие крупные игроки рынка предлагают аналогичные сервисы, снижая шансы завоевать большую долю рынка).
Потеря лояльности пользователей (негативные отзывы и низкая оценка могут распространяться быстро благодаря социальным сетям, создавая долгосрочные проблемы с привлечением новых пользователей.
5. Коммуникационные риски. Недостаточное взаимодействие с клиентами и стандарты качества: Плохое обслуживание пользователей, отсутствие оперативного реагирования на жалобы и запросы пользователей могут существенно снизить лояльность аудитории, к которой мы сильно стремимся и это одна из основных наших бизнес-целей, описанная в пункте 1.1

### Риски с точки зрения техники:

**1. Производительность и масштабируемость**
   
Система будет обрабатывать большой объем запросов одновременно: синхронизация данных тренировок, обмен сообщениями, обработка транзакций в магазине. Просчеты в архитектуре и решениях могут привести к следующим проблемам:
- медленная работа интерфейсов
- задержка в обработке данных активности пользователей
- невозможность справиться с нагрузкой при резком росте числа пользователей (масштабирование)
- перегрузка серверов и критическое падение производительности при проведении акций или специальных мероприятий

**2. Интеграция модулей**

Приложение включает разные функциональные блоки (фитнес-аналитика, социальные обмены информацией , покупка товаров). Возможна сложность интеграции этих частей:
- трудности с созданием единого пользовательского интерфейса
- появление багов из-за несогласованности API различных сервисов
- проблемы с переносимостью данных между разными компонентами приложения
- снижение общей стабильности и надежности системы

**3. Безопасность данных**
   
Уязвимости в коде или неправильная настройка аутентификации/авторизации открывают двери для атак хакеров, кражи личных данных и сведений о покупках. Следствием могут стать:
- компрометация учетных записей пользователей
- кража данных платежных карт и фрод
- распространение вредоносного ПО через уязвимые компоненты приложения

**4. Поддерживаемость и обновляемость**
   
Постоянные обновления требуют усилий по поддержанию совместимости и качеству кода. Возможно возникновение следующих ситуаций:
- усложнение процесса внесения изменений в систему
- длительное тестирование новых функций
- сложности с обратимой миграцией данных (обратная совместимость) при изменении структуры базы данных
- необходимость больших ресурсов и компетенций на исправление возникающих дефектов

**5. Резервирование и отказоустойчивость**

Вероятны случаи аппаратных сбоев или аварий оборудования, что повлечет потерю важной информации:
- утрату истории тренировок пользователей
- нарушение целостности заказов и платежей
- длительные перерывы в работе приложения

### Риски с точки зрения архитектуры:

**1. Выбор неверной архитектуры**
   
Если архитектура изначально выбрана неподходящей (монолит против микросервисов, облачные решения против локального хостинга):
система может столкнуться с низкой производительностью и сложностью масштабирования,
возрастут расходы на техническое сопровождение и доработку решений,
появятся дополнительные издержки на перераспределение нагрузки и интеграцию внешних сервисов.

**2. Зависимость от сторонних сервисов**

Использование внешних сервисов (облако, платежные шлюзы, аналитики и др.) создает зависимость от третьей стороны:
риск отказа одного из поставщиков услуг приведет к остановке функционирования отдельных модулей приложения,
потенциальные перебои в обслуживании со стороны партнеров отразятся на вашем приложении,
изменение тарифов сторонних провайдеров повысит операционные расходы.


**3. Незащищенность данных**

При некорректной настройке репликации баз данных или неправильном хранении токенов авторизации существует угроза несанкционированного доступа к данным:
возможность хищения персональной информации,
компрометация платежных данных пользователей,
значительные репутационные убытки.


**4. Мониторинг и диагностика неисправностей**
   
Недостаточный мониторинг работоспособности приложения ведет к позднему обнаружению ошибок и проблемам диагностики:
задержки в устранении неполадок,
увеличение среднего времени восстановления работоспособности,
упущенные возможности быстрого выявления узких мест и оптимизации производительности.

## 1.6 План поэтапной разработки и расширения системы, анализ критически важных компонентов.

Минимально жизнеспособный продукт (minimum viable product, MVP) — продукт, обладающий минимальными, но достаточными для удовлетворения первых потребителей функциями.

Минимальный функционал, критически неоходимый системе для выхода на рынок: личный кабинет пользователя с возможностью регистрации и авторизации, тренировки (запись, отслеживание, синхронизация со смарт-устройствами через шлюз для интеграций). Имея только эти функции можно будет выполнить релиз приложения для привлечения пользователей.  
Cледующим этап разработки - функционал социального контента, в котором будет формирование ленты пользователя, которая в свою очередь будет состоять из его подписок, активности друзей, статей, рекомендаций. Здесь же может быть реализована возможность участия в соревнованиях, система достижений. Далее может быть реализован функционал сообщений.    
Наконец, когда костяк системы готов, вводится возможность in app покупок путем реализации функционала каталога продуктов, заказов с отслеживанием статуса и проч. 

## 1.7 Выделение критических бизнес-сценариев.

Основные критические сценарии взаимодействия с разрабатываемым приложением:
1. Регистрация и авторизация пользователя - базовый критический сценарий, с помощью которого пользователь получает доступ к приложению. Без доступа к приложению у клиента не будет возможности выбрать, заказать и оплатить товар.
2. Покупка в приложении, оформление заказа. Возможные критические события: отказ в интернет-эквайринге со стороны платежного шлюза, что полностью блокирует процесс покупки, несмотря на то, что заказ будет создан, он не будет оплачен и бизнес не получит прибыль. Нарушение интеграций с другими связанными системами, например, системой доставки (отсутствие возможности выбора слота доставки, отсутствие свободных слотов доставки и др.).
3. Фитнес-функционал: утрата доступа к тренировкам, запуску и отслеживанию активности, аналитике.
   
## 1.8 Атрибуты качества.   

Атрибуты качества  
1. Производительность: время отклика, время загрузки контента, время отправки уведомлений должно быть минимальным  
2. Масштабируемость: приложение должно быть способно обрабатывать большое количество пользователей одновременно без снижения производительности  
3. Безопасность и защита данных (персональных данных пользователей, информации о тренировках и покупках, платежных данных) должны быть защищены от несанкционированного доступа и зашифрованы при хранении и передаче. Политика конфиденциальности данных  
4. Надежность и отказоустойчивость: приложение должно быть устойчиво к сбоям и обеспечивать непрерывную работу  
5. Юзабилити: интерфейс приложения должен быть простым и понятным для пользователей, настраиваемым и гибким под их требования  
6. Совместимость: приложение должно быть оптимизировано для работы на разных типах ОС и разных версиях мобильных устройств. Интерфейс должен быть доступен на нескольких языках  
7. Доступность: приложение должно быть доступно для пользователей с ограниченными возможностями, включая поддержку голосовых помощников (например, VoiceOver, TalkBack)
8. Налюдаемость: возможонсть отслеживать состояние системы, мониторинг, логирование, и понимать, что могло привести к неполадкам

   
## 1.9 Анализ и список нефункциональных требований.

Нефункциональные требования по выделенным доменам:

1. **Домен Пользователь (User)**:  
- Безопасность: Приложение должно быть защищено от несанкционированного доступа, чтобы данные пользователей хранились безопасно. Необходима поддержка SSL
- Безопасность: хранение пользовательских паролей должно быть захешировано
- Безопасность: для каждой доменной учетной записи должны быть выданы свои права. Пользователь должен авторизоваться при входе в систему, зарегистрированным пользователям система недоступна совсем.
- Безопасность: при отсутствии сертификата PCIDSS запрещено хранить данные банковских карт и любых чувствительных платежных данных клиентов
- Производительность: время, необходимое для выполнения операций регистрации/авторизации/обновления профиля, должно быть минимальным. Возможность использования двухфакторной аутентификации для повышения безопасности. Возможность регулярного резервного копирования данных пользователей для предотвращения потери данных.
- Производительность: Приложение должно быть способно обслуживать необходимое количество пользователей без снижения производительности. При постоянной  увеличенной нагрузке - горизонтальное масштабирование серверов и их балансировка.
- Юзабилити: Пользовательский UX/UI должен быть интуитивно понятен пользователю
- Доступность: Внесение изменений в Приложение должно быть бесшовным для пользователя, чтобы система не простаивала

2. **Домен Тренировки (Training)**:  
- Безопасность: Пользовательские данные хранятся в шифрованном виде от несанкционированного доступа 
- Производительность: Время загрузки тренировок, результатов, информации о тренировках должно быть минимальным (например, до 3 секунд). Приложение должно быстро реагировать на действия пользователя (например, начинать тренировку, ставить на паузу, останавливать ее).
- Масштабируемость: приложение должно легко адаптироваться к увеличению числа пользователей и объема данных без падения производительности. 
- Юзабилити: интуитивно понятный и простой в использовании интерфейс с возможностью настройки под свои потребности (например, выбора типа тренировок).
- Резервное копирование: Регулярное резервное копирование данных о тренировках для предотвращения потери данных.
Интеграция со смарт-устройством пользователя реализована следующим образом: тренировки, физиологические показатели пользователя записываются на смарт-устройстве пользователя. При наличии подключения смарт-устройства к мобильному устройству и приложению начинается синхронизация данных. Опрос смарт-устройства происходит с заданной частотой (например, каждые 3-5 секунд). Затем данные о записанной активности выгружаются на сервер.

3. **Домен Shop**:  
- Безопасность: Пользовательские данные хранятся в шифрованном виде от несанкционированного доступа 
- Производительность: скорость загрузки каталога, карточек товара, информации о заказе должна быть минимальной, 
- Производительность: домен должен быть способен обработать необходимое (заложенное) количество заказов, 
- Изменяемость: Внесение изменения в наличие товара - должно быть обработано,
- Изменяемость: Своевременный корректный резерв и списание заказанных позиций,
- Юзабилити: интуитивно понятный и простой в использовании интерфейс с понятной навигацией и удобными элементами управления, удобным поиском и фильтрами товаров.
- Юзабилити: система рекомендаций. Приложение должно предлагать пользователям товары, которые могут им понравиться, на основе их предпочтений.

4. **Домен Message**:  
- Время отклика: Уведомления должны доставляться пользователям с минимальной задержкой. 
- Масштабируемость: Система должна быть способна обрабатывать большое количество уведомлений одновременно.
- Безопасность: все данные об уведомлениях должны быть защищены от несанкционированного доступа, необходимо шифрование данных.
- Безопасность: необходимо ограничить число попыток повторной отправки сообщений.
- Юзабилити: пользователи должны иметь возможность настраивать уведомления, их тип и частоту.

5. **Домен Social**:  
- Безопасность: Пользовательские данные хранятся в шифрованном виде от несанкционированного доступа 
- Юзабилити: интуитивно понятный и простой в использовании интерфейс с понятной навигацией и возможностью настраивать ленту под себя.
- Обучаемость: адаптивность, гибкая подстройка ленты под пользователя и его подписки. 
- Совместимость: возможность импорта/экспорта данных из/в социальных сетей.
- Производительность: скорость загрузки контента (фотографии, видео, текст) должна быть минимальной,  время отклика приложения на действия пользователя (например, публикация поста, отправка сообщения) также должна быть минимальной.


## 1.10 Анализ и описание архитектурных опций и обоснование выбора.
В таблице приводится сравнительный анализ различных типов архитектур. В каждой ячейке на пересечении типа архитектуры и атрибута качества указана оценка по 5-балльной шкале, где 5 - наилучшая оценка, 1 - наихудшая.


|     | Монолит    | Service-Oriented    | Service-Based     | Space-Based     | Event-Driven    | Microservices   |
| ------------ | ------------ | ------------ | ------------ | ------------ | ------------ | ------------ |
| Agility / Гибкость| **2** (перестроить на новый бизнес-процесс или новый стек - проблематично, придется перепроектировать все приложение)| **3,5** (сервисы условно независимы, но имеют связанность из-за общих ресурсов и централизованной коммуникации)| **4** (сервисы хорошо разделены, но они довольно массивные)| **4,5** (за счет распределения данных и параллельной обработки проще приспособление к новым задачам или дополнительным требованиям)| **5** (наличие управления событиями через брокер, медиатор| **5** (можно выбрать стек под каждый микросервис)|
| Cost / Стоимость | **2** (единый стек технологий - дороже доработка)| **4** (адаптация инфраструктуры к меняющимся потребностям без дорогостоящих модификаций или повторной разработки| **4** (адаптация инфраструктуры к меняющимся потребностям без дорогостоящих модификаций или повторной разработки)| **3** (расходы на инфраструктуру, связанные с управлением и обслуживанием нескольких узлов + на интеграции)| **3** (высокая модульность и расширяемость снижает затраты, но необходимость в брокерах сообщений и управлении распределёнными компонентами увеличивает расходы на инфраструктуру)| **2** (у каждого нового микросервиса своя стоимость разработки, тестов, инфраструктуры и т.д. чем больше микросервисов, тем выше стоимость)|
| Deployability / Развертываемость | **4** (единый автономный модуль, но очень громоздкий)| **2** (Обычно подразумевает развертывание всего приложения как единого блока, невозможнос развернуть по одному из-за единой ESB)| **4** (каждый сервис можно развернуть отдельно, можно разбить API и базы данных на несколько развертываемых единиц)| **5** (Легкое развертывание модулей, т.к они могут быть упакованы в независимые и самостоятельные блоки, что позволяет выполнять обновление и развертывание без влияния на всю систему. ( blue-green deployment))| **5** (позволяет разделить компоненты, что упрощает развертывание и обновление отдельных компонентов без влияния на всю систему) |**5** (микросервисы представляют собой отдельные модули, поэтому их можно разворачивать независимо)|
| Integration / Интеграция| **4** (особенно, если этот монолит - producer с существующим контрактом) Рассматриваем внешние интеграции| **3** (интеграция черед центр интеграции в ESB с определнным контрактом )| **5** (интеграция возможна через слой API, в котором доступны все необходимые элементы единого контракта и взаиможейсвтия сервисов)| **4** (опора этой архитектуры - передача сообщений или управляемая эвентами коммуникация между компонентами, что упрощает создание и интеграцию новых функций)| **3** (сложное управление (создание и поддержка) контрактов сервисов, т.к необходимо много зависимостей для мидиатора, брокеров сообщений) |**4** (можно сделать отдельный контракт для каждого из сервсов, использовать разные стеки, что удобно, но поддерживать и разрабатывать сложнее)|
| Performance / Производительность| **3** (с одной стороны - загружен всегда один сервер процессом, но если возрастен нагрузка на один сервер - все посыпется| **2** (т.к необходимо пропускать все через единую ESB, у которой канал с определнной пропускной способностью)| **4** (возможность компоновки сервисов и работа с хранилищем данных через схемы или отдельные БД, продвинутой балансировкой, но есть потенциальная задержка в коммуникации между сервисами)| **5** (параллельная обработка и кэширование в памяти для чтения данных, SBA позволяет использовать процессинговые единицы— отдельных модулей, способных работать параллельно) | **5** (асинхронное взаимодействие, параллельная обработка, легко наращивать производительность при обработке сообщений) | **4** (сложнее поддерживать их взаимодействие и согласованность данных, но при этом нагрузка распределена на каждом из сервисов либо архтектурно, либо балансировщиком)|
| Scalability / Масштабируемость| **1** (система масштабируется как единое целое, горизонтальное масшитабирование почти нереально, нерационально расходуются ресурсы)| **3** (масштабируется горизонтально, но масштабирование может быть затруднено из-за централизованной коммуникации) | **3** (масштабируется горизонтально, масштабирование может быть затруднено в случае централизованной БД)| **5** (нет зависимости от одной БД, возможно добавлять узлы по мере увеличения нагрузки, Масштабирование в SBA осуществляется за счет добавления новых процессинговых единиц, но дополнительные требования к грануляции данных) | **5** (высокая масштабируемость за счет горизонтального масштабирования путем программного добавления обработчиков событий) | **5** (когда микросервис достигает предельной нагрузки, можно развернуть новые экземпляры автоматически. Микросервисы можно масштабировать независимо друг от друга)|
| Testability / Тестируемость| **5** (единый стек)| **3** (усложненное тестирование, тк общее хранилище с другими модулями и зависимость от них)| **4** (есть возможность тестирования отдельных модулей без зависимостей от общего хранилища)| **2** (усложнено необходимостью обеспечить корректное взаимодействие и согласованность данных между узлами) | **4** (отдельные компоненты легко тестировать, но взаимодействия между ними (например, потоками событий) сложны из-за асинхронности и недетерминированности в потоках событий) |**3** (у каждого микросервиса свой набор журналов, что усложняет отладку. С другой стороны, в отдельных сервисах легче находить и исправлять баги)|

На основании проведенного анализа был сделан выбор в пользу микросервисной архитектуры с подходом Domain Driven Design, т.к у нас есть четко выделенные бизнес-модули,каждый из которых выполняет свой определенный функционал и имеет виидмые граница как для разработки, так и для бизнеса  

Безусловно, у микросервисной архитектуры с подходом DDD есть свои минусы, такие как: 
- Высокая стоимость разработки
- Много различных требований к инфратсруктуре каждого микросервиса
- ставновится больше усзлов, на которых может повлиять сетевая недоступность (точки отказа и тд)
- Необходимо учитывать дополнительные репликации, балансировки нагрузки
  
Но учитывая, что у нас 90% всех систем, используемых в компании, расположены у облачных провайдеров, то решение в виде облачной модели PaaS (Platform as a service), в которой предоставляется готовый набор ресурсов для разработки, тестирования, развертывания, масштабирования прлиожений - позволяет нам не беспокоиться об инфраструктуре и доступности, а сконцентрироваться на реалзиации функционала и обновлении приложения, без рисков недоступности и тд.
Сравнивая облачные решения, выброр пал на PaaS, т.к он предлагает всю нужную инфраструктуту, при этом давая вохможность реализовывать собственный интерфейс и приложение, а IaaS'а нам будет недостаточно

![PaaS](https://github.com/butorovnv/Software-Architecture-Diploma/blob/main/images/PAAAS.png)














