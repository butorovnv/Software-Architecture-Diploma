# 1.4 Разработка концептуальной архитектуры.
Концепт архитектуры нашего приложения будет выглядеть следующим образом:

![DDD_schema](https://github.com/butorovnv/Software-Architecture-Diploma/blob/main/images/DDD_schema.png)

Все пользователи, которые будут обращаться к нашему приложению, будут использовать REST интерфейс (HTTP**S**)

Основная и единственная точка входа пользователей с фронта - Api Gateway, который будет маршрутизировать запросы на следующие домены (при условии, что у нас еще будут для AGW балансировщики, то разумнее всего испольтзовать round-robin), а так же будет выполняться аутентификация/авторизация полтьзователей. Его можно назвать техническим, а не с точки зрения бизнеса Core-domain.

- **Домен Training**. Цель и задача данного домена как приложения - записыать и отслеживать тренировки пользователей. Приложение записывает данные процесса тренировки в реляционную БД,после чего - проводит анализ занятие из той же БД, чтобы вывести пользователю итог тренировки со статистикой. Выгрузка будет осуществляться только в конце тренировки одним большим (или несколькими крупными) партицию. До момента выгрузки клиентское устройство само складирует координаты, время и прочуюю информацию локально, как вариант - во временную таблицу. Расчет динамических значений происходит также локально
  
- **Домен User**. Цель и задача данного домена как приложения - хранить профиль пользователя, личную и пользовательскую информацию, платежные данные, и все то, что персонализировано под конкретного клиента
  
- **Домен Shop**. Цель и задача данного домена как приложения - поддерживает все основные для интернет - магазина модули: заказ товара или покупка тренировки, интеграция с платежным шлюзом, привязка платежного средства с поддержкой протокола PCIDSS, отправка чека. Т.к у нас в бизнесе уже реализован функционал магазина - нам необходимо натсроить интеграцию с самим интернет-магазином и платежным шлюзом с привязкой карты
  
- **Домен Social**. Цель и задача данного домена как приложения - генерировать и отображать пользователю его контент и позволять пользоватьс ясоциальными возможностями. Данное приложение на выходе будет выдавать готовый контент для отображения в ленте с вертикальным скролом. В контент будут входить: тренировки самого пользователя (карта с отмеченным пройденным маршрутом) и ключевые показатели, тренировки других пользователей, на которые подписан пользовтель, различные статьи, а также рекомендации к тренировкам на основе анализа его тренировок. Этот домен как приложение способно стать уникальной особенностью нашей платформы, выделяя её среди аналогичных продуктов на рынке. Кроме того, наша новостная лента и весь контен будет динамически настраиваться под предпочтения конкретного человека, учитывая его поведение (оценки, комментарии, подписки и проч.). Таким образом, в перспективе мы будем показывать пользователям исключительно тот контент, который с высокой долей вероятности вызовет положительный отклик и мы сможем удерживать клиента и максимально погружать его в нашу экосистему. А лояльные клиенты с высокой долей вероятности будут покупать тренировки и/или сопутствующий товар
  
- **Домен Message**. Цель и задача данного домена как приложения - уведомлять пользователей через каналы: e-mail, sms, push. По своей сути должно быть асинхронным, ввиду долгих блокирующих операций. Также Messgar будет отвечать за коммуникацию внутри приложения между пользователями

